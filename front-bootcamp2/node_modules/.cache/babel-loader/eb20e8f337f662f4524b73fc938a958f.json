{"ast":null,"code":"var _jsxFileName = \"/Users/plataforma5/Lucas/bc2-challenge/front-bootcamp2/src/components/passenger/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Header, Fly, BultosContainer, Bulto, BultoDesc, BultoTitle, AddBulto, AddForm, CategoriesContainer, Category, SendBulto, DeleteBultos, BackLink } from \"./passengerStyles\";\n\nconst Passenger = ({\n  match\n}) => {\n  var _passenger$packages, _passenger$packages2, _passenger$packages3;\n\n  const [passenger, setPassenger] = useState({});\n  const [statusForm, setStatusForm] = useState(false);\n  const [category, setCategory] = useState(1);\n\n  const sendBulto = category => {\n    Axios.post(`http://localhost:3000/packages`, {\n      category,\n      passengerId: match.params.id\n    }).then(() => {\n      setStatusForm(false);\n      fetchPassenger();\n    }).catch(err => console.log(err));\n  };\n\n  const deleteBultos = () => {\n    Axios.delete(`http://localhost:3000/passengers/${match.params.id}`).then(() => fetchPassenger()).catch(err => console.log(err));\n  };\n\n  const fetchPassenger = () => {\n    Axios.get(`http://localhost:3000/passengers/${match.params.id}`).then(res => {\n      setPassenger(res.data);\n    }).catch(err => console.log(err));\n  };\n\n  useEffect(fetchPassenger, [match.params.id]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, passenger.name), /*#__PURE__*/React.createElement(Fly, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"vuelo: #\", passenger.code), /*#__PURE__*/React.createElement(BultosContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, ((_passenger$packages = passenger.packages) === null || _passenger$packages === void 0 ? void 0 : _passenger$packages.length) ? passenger.packages.map((bulto, i) => /*#__PURE__*/React.createElement(Bulto, {\n    key: bulto.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(BultoTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"bulto n\\xBA\", i + 1), /*#__PURE__*/React.createElement(BultoDesc, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"tipo: \", bulto.type), /*#__PURE__*/React.createElement(BultoDesc, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"categoria: \", bulto.category))) : \"El pasajero no tiene bultos todavia.\", ((_passenger$packages2 = passenger.packages) === null || _passenger$packages2 === void 0 ? void 0 : _passenger$packages2.length) < 3 ? /*#__PURE__*/React.createElement(AddBulto, {\n    onClick: () => setStatusForm(!statusForm),\n    statusForm: statusForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, statusForm ? \"Cancelar\" : \"Agregar bulto\") : null), statusForm ? /*#__PURE__*/React.createElement(AddForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"\\xBFQue categoria es el bulto que queres agregar?\", /*#__PURE__*/React.createElement(CategoriesContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Category, {\n    category: 1,\n    selectedCategory: category,\n    onClick: () => setCategory(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(Category, {\n    category: 2,\n    selectedCategory: category,\n    onClick: () => setCategory(2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(Category, {\n    category: 3,\n    selectedCategory: category,\n    onClick: () => setCategory(3),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"3\")), /*#__PURE__*/React.createElement(SendBulto, {\n    onClick: () => sendBulto(category),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Agregar\")) : null, ((_passenger$packages3 = passenger.packages) === null || _passenger$packages3 === void 0 ? void 0 : _passenger$packages3.length) ? /*#__PURE__*/React.createElement(DeleteBultos, {\n    onClick: () => deleteBultos(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"Retirar Bultos\") : null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/passengers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BackLink, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, \"volver\")));\n};\n\nexport default Passenger;","map":{"version":3,"sources":["/Users/plataforma5/Lucas/bc2-challenge/front-bootcamp2/src/components/passenger/index.js"],"names":["React","useState","useEffect","Axios","Link","Container","Header","Fly","BultosContainer","Bulto","BultoDesc","BultoTitle","AddBulto","AddForm","CategoriesContainer","Category","SendBulto","DeleteBultos","BackLink","Passenger","match","passenger","setPassenger","statusForm","setStatusForm","category","setCategory","sendBulto","post","passengerId","params","id","then","fetchPassenger","catch","err","console","log","deleteBultos","delete","get","res","data","name","code","packages","length","map","bulto","i","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  Container,\n  Header,\n  Fly,\n  BultosContainer,\n  Bulto,\n  BultoDesc,\n  BultoTitle,\n  AddBulto,\n  AddForm,\n  CategoriesContainer,\n  Category,\n  SendBulto,\n  DeleteBultos,\n  BackLink\n} from \"./passengerStyles\";\n\nconst Passenger = ({ match }) => {\n  const [passenger, setPassenger] = useState({});\n  const [statusForm, setStatusForm] = useState(false);\n  const [category, setCategory] = useState(1);\n\n  const sendBulto = category => {\n    Axios.post(`http://localhost:3000/packages`, {\n      category,\n      passengerId: match.params.id\n    })\n      .then(() => {\n        setStatusForm(false);\n        fetchPassenger();\n      })\n      .catch(err => console.log(err));\n  };\n\n  const deleteBultos = () => {\n    Axios.delete(`http://localhost:3000/passengers/${match.params.id}`)\n      .then(() => fetchPassenger())\n      .catch(err => console.log(err));\n  };\n\n  const fetchPassenger = () => {\n    Axios.get(`http://localhost:3000/passengers/${match.params.id}`)\n      .then(res => {\n        setPassenger(res.data);\n      })\n      .catch(err => console.log(err));\n  };\n\n  useEffect(fetchPassenger, [match.params.id]);\n\n  return (\n    <Container>\n      <Header>{passenger.name}</Header>\n      <Fly>vuelo: #{passenger.code}</Fly>\n      <BultosContainer>\n        {passenger.packages?.length\n          ? passenger.packages.map((bulto, i) => (\n              <Bulto key={bulto.id}>\n                <BultoTitle>bulto nº{i + 1}</BultoTitle>\n                <BultoDesc>tipo: {bulto.type}</BultoDesc>\n                <BultoDesc>categoria: {bulto.category}</BultoDesc>\n              </Bulto>\n            ))\n          : \"El pasajero no tiene bultos todavia.\"}\n        {passenger.packages?.length < 3 ? (\n          <AddBulto\n            onClick={() => setStatusForm(!statusForm)}\n            statusForm={statusForm}\n          >\n            {statusForm ? \"Cancelar\" : \"Agregar bulto\"}\n          </AddBulto>\n        ) : null}\n      </BultosContainer>\n      {statusForm ? (\n        <AddForm>\n          ¿Que categoria es el bulto que queres agregar?\n          <CategoriesContainer>\n            <Category\n              category={1}\n              selectedCategory={category}\n              onClick={() => setCategory(1)}\n            >\n              1\n            </Category>\n            <Category\n              category={2}\n              selectedCategory={category}\n              onClick={() => setCategory(2)}\n            >\n              2\n            </Category>\n            <Category\n              category={3}\n              selectedCategory={category}\n              onClick={() => setCategory(3)}\n            >\n              3\n            </Category>\n          </CategoriesContainer>\n          <SendBulto onClick={() => sendBulto(category)}>Agregar</SendBulto>\n        </AddForm>\n      ) : null}\n      {passenger.packages?.length ? (\n        <DeleteBultos onClick={() => deleteBultos()}>\n          Retirar Bultos\n        </DeleteBultos>\n      ) : null}\n      <Link to=\"/passengers\">\n        <BackLink>volver</BackLink>\n      </Link>\n    </Container>\n  );\n};\n\nexport default Passenger;\n"]},"metadata":{},"sourceType":"module"}